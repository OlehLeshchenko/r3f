import{u as m,v as f,w as g,i as o,x as c}from"./index-DAa9yKAB.js";import{d as l}from"./TPolyMarker3D-Cx5LiQh7.js";function x(r){const t=r.getFramePainter();if(!t?.mode3d||!r.getObject())return null;if(t?.toplevel)return t;const n=r.getMainPainter();return n&&!o(n.drawExtras)?null:(n?Promise.resolve(n):c(r)).then(i=>{const a=r.getPadPainter();return a&&(a.options._disable_dragging=!0),i.options.dummy&&o(r.get3DBox)&&i.extendCustomBoundingBox(r.get3DBox()),i.drawExtras(r.getObject(),"",!0,!0)})}function u(){const r=this.getObject();if(!r?.fP.length)return null;const t={min:{x:0,y:0,z:0},max:{x:0,y:0,z:0}};for(let n=0;n<r.fP.length;n+=3){const e=r.fP[n],i=r.fP[n+1],a=r.fP[n+2];n===0?(t.min.x=t.max.x=e,t.min.y=t.max.y=i,t.min.z=t.max.z=a):(t.min.x=Math.min(e,t.min.x),t.max.x=Math.max(e,t.max.x),t.min.y=Math.min(i,t.min.y),t.max.y=Math.max(i,t.max.y),t.min.z=Math.min(a,t.min.z),t.max.z=Math.max(a,t.max.z))}return t}async function d(){this.get3DBox=u;const r=x(this);return!m(r)||!r.grx||!r.gry||!r.grz?r:(this.$fp=r,l.bind(this)())}async function D(){this.get3DBox=u;const r=this.getObject(),t=x(this);if(!m(t)||!t.grx||!t.gry||!t.grz)return t;const n=3*r.fN,e=r.fP,i=[];for(let s=3;s<n;s+=3)i.push(t.grx(e[s-3]),t.gry(e[s-2]),t.grz(e[s-1]),t.grx(e[s]),t.gry(e[s+1]),t.grz(e[s+2]));const a=f(i,g(this,r));return t.add3DMesh(a,this,!0),t.render3D(100),!0}export{D as drawPolyLine3D,d as drawPolyMarker3D};
