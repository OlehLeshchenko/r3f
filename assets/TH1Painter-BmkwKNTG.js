import{n as d,az as l,aA as c}from"./index-DAa9yKAB.js";import{b as m,d as u}from"./hist3d-BC5Tno_J.js";import{T as p}from"./THistPainter-DJAmNO-k.js";import{T as h}from"./TH1Painter-C7yoCsum.js";import"./latex3d-BISPawP1.js";import"./TH2Painter-Ba0oelVz.js";import"./TPavePainter-DMWA3hUD.js";import"./func-CztLwFD8.js";class a extends h{async draw3D(i){this.mode3d=!0;const e=this.getFramePainter(),t=this.isMainPainter(),r=this.getOptions();r.zmult=1+2*d.fHistTopMargin;let s=Promise.resolve(!0),n=!0;if(i==="resize"){const o=t?e.resize3D():!1;o!==1&&(n=!1,o&&e.render3D())}return n&&(this.createHistDrawAttributes(!0),this.scanContent(i==="zoom"),t&&(s=m(this,l,r.Render3D)),e.mode3d&&(s=s.then(()=>{u(this),e.render3D(),this.updateStatWebCanvas(),e.addKeysHandler()}))),t&&(s=s.then(()=>this.drawColorPalette(r.Zscale&&r.canHavePalette()))),s.then(()=>this.updateFunctions()).then(()=>this.updateHistTitle()).then(()=>this)}static async build3d(i,e){const t=new a(null,i);t.decodeOptions(e),t.scanContent(),t.createHistDrawAttributes(!0),t.options.zmult=1+2*d.fHistTopMargin;const r=new c(null,null);return t.getFramePainter=()=>r,m(t,l).then(()=>u(t)).then(()=>r.create3DScene(-1,!0))}static async draw(i,e,t){return p._drawHist(new a(i,e),t)}}export{a as TH1Painter};
